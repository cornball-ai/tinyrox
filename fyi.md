<!-- Generated by fyi::use_fyi_md() on 2026-02-10 -->
<!-- Regenerate with: fyi::use_fyi_md("tinyrox") -->

# fyi: tinyrox

## Exported Functions (tinyrox::)

| Function | Arguments |
|----------|-----------|
| `check_code_cran` | path |
| `check_cran` | path |
| `check_description_cran` | path, fix |
| `check_examples_cran` | path |
| `clean` | path, namespace |
| `document` | path, namespace, cran_check |
| `fix_description_cran` | path, backup |


## Internal Functions (tinyrox:::)

| Function | Arguments |
|----------|-----------|
| `check_code_lines` | lines, filename |
| `check_webservice_links` | description, packages |
| `detect_s3_method` | name |
| `escape_rd` | text |
| `escape_regex` | x |
| `extract_formals` | code |
| `extract_function_name` | line |
| `extract_nn_module_formals` | code |
| `find_exports_without_examples` | lines |
| `find_unquoted_names` | text, names |
| `format_object_info` | name, pkg_path |
| `format_usage` | name, args |
| `generate_all_rd` | blocks, path |
| `generate_data_rd` | tags, source_file, format_string |
| `generate_namespace` | blocks |
| `generate_package_rd` | tags, pkg_name, source_file |
| `generate_rd` | tags, formals, source_file |
| `generate_rd_grouped` | topic, entries, all_tags |
| `get_dependency_packages` | desc |
| `get_maintainer_from_desc` | path |
| `get_package_name` | path |
| `parse_file` | file |
| `parse_formals_text` | text |
| `parse_object_definition` | text, file, line_num |
| `parse_package` | path |
| `parse_tags` | lines, object_name, file, line_num |
| `quote_names_in_text` | text, names |
| `resolve_inherit_params` | tags, all_tags, formals |
| `save_tag` | result, tag, arg, accumulator, file, line_num |
| `wrap_text` | text, width |
| `write_namespace` | content, path, mode |
| `write_rd` | content, name, path |


## Options (tinyrox)

| Option | File | Type |
|--------|------|------|
| `warn` | cran.R | set |


# Documentation: tinyrox

## check_code_cran

### Check R Code for CRAN Issues

#### Description

Scans R files for common CRAN policy violations.

#### Usage

```r
check_code_cran(path = ".")
```

#### Arguments

- **`path`**: Path to package root directory

#### Value

List with issues found

#### Examples

```r
check_code_cran()
check_code_cran("path/to/package")
```


## check_code_lines

### Check Code Lines for Issues

#### Description

Check Code Lines for Issues

#### Usage

```r
check_code_lines(lines, filename)
```

#### Arguments

- **`lines`**: Character vector of code lines
- **`filename`**: Filename for reporting

#### Value

List of issues


## check_cran

### Full CRAN Compliance Check

#### Description

Runs all CRAN compliance checks (DESCRIPTION + code).

#### Usage

```r
check_cran(path = ".")
```

#### Arguments

- **`path`**: Path to package root directory

#### Value

List with all issues

#### Examples

```r
check_cran()
check_cran("path/to/package")
```


## check_description_cran

### Check DESCRIPTION for CRAN Compliance

#### Description

Validates Title and Description fields for common CRAN issues:
unquoted package names, missing web service links, etc.

#### Usage

```r
check_description_cran(path = ".", fix = FALSE)
```

#### Arguments

- **`path`**: Path to package root directory
- **`fix`**: If TRUE, return fixed text. If FALSE, just warn.

#### Value

List with validation results and optionally fixed text

#### Examples

```r
check_description_cran()
check_description_cran("path/to/package")
```


## check_examples_cran

### Check for Missing Examples

#### Description

Identifies exported functions that lack examples in their documentation.

#### Usage

```r
check_examples_cran(path = ".")
```

#### Arguments

- **`path`**: Path to package root directory

#### Value

Character vector of function names missing examples

#### Examples

```r
check_examples_cran()
check_examples_cran("path/to/package")
```


## check_webservice_links

### Check for Missing Web Service Links

#### Description

Checks if packages that typically use web services have
corresponding URLs in the Description.

#### Usage

```r
check_webservice_links(description, packages)
```

#### Arguments

- **`description`**: Description text
- **`packages`**: Package names from dependencies

#### Value

Named list of packages missing links (name = URL)


## clean

### Clean Generated Files

#### Description

Removes all Rd files from man/ directory.

#### Usage

```r
clean(path = ".", namespace = FALSE)
```

#### Arguments

- **`path`**: Path to package root directory.
- **`namespace`**: Also remove NAMESPACE? Default FALSE.

#### Examples

```r
clean()
clean(namespace = TRUE)
```


## detect_s3_method

### Detect S3 Method from Function Name

#### Description

Checks if a function name follows the generic.class pattern where
generic is a known S3 generic function.

#### Usage

```r
detect_s3_method(name)
```

#### Arguments

- **`name`**: Function name to check.

#### Value

List with generic and class components, or NULL if not an S3 method.


## document

### Generate Documentation for an R Package

#### Description

Main function for tinyrox. Parses R source files for documentation
comments and generates Rd files and NAMESPACE.

#### Usage

```r
document(
  path = ".",
  namespace = c("overwrite", "append", "none"),
  cran_check = TRUE
)
```

#### Arguments

- **`path`**: Path to package root directory. Default is current directory.
- **`namespace`**: How to handle NAMESPACE generation. One of
- **"overwrite"**: Fully regenerate NAMESPACE (default)
- **"append"**: Insert between ## tinyrox start/end markers
- **"none"**: Don't modify NAMESPACE
- **`cran_check`**: Run CRAN compliance checks (DESCRIPTION quoting,
web service links, code issues, missing examples). Default TRUE.

#### Value

Invisibly returns a list with:
  - rd_files: character vector of generated Rd file paths
  - namespace: path to NAMESPACE file (or NULL if mode="none")

#### Examples

```r
# Document current package
document()

# Document with append mode for NAMESPACE
document(namespace = "append")

# Document without modifying NAMESPACE
document(namespace = "none")

# Skip CRAN compliance check
document(cran_check = FALSE)
```


## escape_rd

### Escape Special Characters for Rd

#### Description

Escapes special characters for Rd format, but detects and preserves
existing Rd markup (like \describe, \item, \code, etc.).

#### Usage

```r
escape_rd(text)
```

#### Arguments

- **`text`**: Text to escape.

#### Value

Escaped text.


## escape_regex

### Escape Regex Special Characters

#### Description

Escape Regex Special Characters

#### Usage

```r
escape_regex(x)
```

#### Arguments

- **`x`**: String to escape

#### Value

Escaped string safe for use in regex


## extract_formals

### Extract Function Formals from Code

#### Description

Extract Function Formals from Code

#### Usage

```r
extract_formals(code)
```

#### Arguments

- **`code`**: Code starting with "function("

#### Value

List with 'names' (argument names) and 'usage' (formatted for Rd).


## extract_function_name

### Extract Function Name from Definition Line

#### Description

Extract Function Name from Definition Line

#### Usage

```r
extract_function_name(line)
```

#### Arguments

- **`line`**: Code line potentially containing function definition

#### Value

Function name or NULL


## extract_nn_module_formals

### Extract Formals from torch nn_module

#### Description

Extracts the formals from the initialize method of an nn_module definition.

#### Usage

```r
extract_nn_module_formals(code)
```

#### Arguments

- **`code`**: Code starting with "nn_module(" or "torch::nn_module("

#### Value

List with 'names' (argument names) and 'usage' (formatted for Rd),
  or NULL if initialize method not found.


## find_exports_without_examples

### Find Exported Functions Without Examples

#### Description

Parses R file content to find @export tags without @examples.

#### Usage

```r
find_exports_without_examples(lines)
```

#### Arguments

- **`lines`**: Character vector of file lines

#### Value

Character vector of function names missing examples


## find_unquoted_names

### Find Unquoted Names in Text

#### Description

Finds package/software names that appear without single quotes.

#### Usage

```r
find_unquoted_names(text, names)
```

#### Arguments

- **`text`**: Text to search
- **`names`**: Names to look for

#### Value

Character vector of unquoted names found


## fix_description_cran

### Fix DESCRIPTION File

#### Description

Automatically fixes common CRAN issues in DESCRIPTION.

#### Usage

```r
fix_description_cran(path = ".", backup = TRUE)
```

#### Arguments

- **`path`**: Path to package root directory
- **`backup`**: Create backup file? Default TRUE.

#### Value

Invisibly returns TRUE if changes were made

#### Examples

```r
fix_description_cran()
fix_description_cran(backup = FALSE)
```


## format_object_info

### Format Object Info for Data Documentation

#### Description

Generates the format description string for a data object.
Tries to load the package namespace to inspect the object.

#### Usage

```r
format_object_info(name, pkg_path)
```

#### Arguments

- **`name`**: Object name.
- **`pkg_path`**: Package root path.

#### Value

Format string or NULL if object cannot be inspected.


## format_usage

### Format Usage Line

#### Description

Formats the function usage, wrapping to multiple lines if needed.
Follows roxygen2 style: each argument on its own line if total > 80 chars.
S3 methods use the \method syntax.

#### Usage

```r
format_usage(name, args)
```

#### Arguments

- **`name`**: Function name.
- **`args`**: Character vector of arguments with defaults.

#### Value

Formatted usage string.


## generate_all_rd

### Generate All Rd Files for a Package

#### Description

Generate All Rd Files for a Package

#### Usage

```r
generate_all_rd(blocks, path = ".")
```

#### Arguments

- **`blocks`**: List of documentation blocks from parse_package().
- **`path`**: Package root path.

#### Value

Character vector of generated file paths.


## generate_data_rd

### Generate Rd File Content for Data Objects

#### Description

Generate Rd File Content for Data Objects

#### Usage

```r
generate_data_rd(tags, source_file = NULL, format_string = NULL)
```

#### Arguments

- **`tags`**: Parsed tags from parse_tags().
- **`source_file`**: Source file path (for header comment).
- **`format_string`**: Format description (e.g., "An object of class list of length 3").

#### Value

Character string of Rd content.


## generate_namespace

### Generate NAMESPACE Content

#### Description

Generate NAMESPACE Content

#### Usage

```r
generate_namespace(blocks)
```

#### Arguments

- **`blocks`**: List of documentation blocks from parse_package().

#### Value

Character string of NAMESPACE content.


## generate_package_rd

### Generate Package Documentation Rd

#### Description

Generates Rd content for package documentation ("_PACKAGE" directive).

#### Usage

```r
generate_package_rd(tags, pkg_name, source_file)
```

#### Arguments

- **`tags`**: Parsed tags from the documentation block.
- **`pkg_name`**: Package name.
- **`source_file`**: Source file path.

#### Value

Character string of Rd content.


## generate_rd

### Generate Rd File Content

#### Description

Generate Rd File Content

#### Usage

```r
generate_rd(tags, formals = NULL, source_file = NULL)
```

#### Arguments

- **`tags`**: Parsed tags from parse_tags().
- **`formals`**: Character vector of formal argument names (for functions).
- **`source_file`**: Source file path (for header comment).

#### Value

Character string of Rd content.


## get_dependency_packages

### Extract Package Names from Dependencies

#### Description

Parses Imports, Suggests, Depends, and Enhances fields.

#### Usage

```r
get_dependency_packages(desc)
```

#### Arguments

- **`desc`**: DESCRIPTION matrix from read.dcf()

#### Value

Character vector of package names


## get_maintainer_from_desc

### Get Maintainer Info from DESCRIPTION

#### Description

Reads Authors@R from DESCRIPTION and formats maintainer for Rd.

#### Usage

```r
get_maintainer_from_desc(path)
```

#### Arguments

- **`path`**: Package root path.

#### Value

Formatted author string or NULL.


## get_package_name

### Get Package Name from DESCRIPTION

#### Description

Get Package Name from DESCRIPTION

#### Usage

```r
get_package_name(path)
```

#### Arguments

- **`path`**: Package root path.

#### Value

Package name.


## KNOWN_S3_GENERICS

### Known S3 Generic Functions

#### Description

List of base R S3 generics for auto-detection when @export is used.

#### Usage

```r
KNOWN_S3_GENERICS
```


## parse_file

### Parse R Files for Documentation Blocks

#### Description

Extracts documentation comment blocks and their associated objects
from R source files.

#### Usage

```r
parse_file(file)
```

#### Arguments

- **`file`**: Path to an R source file.

#### Value

A list of documentation blocks, each with components:
  - lines: character vector of comment lines (without #')
  - object: name of the documented object
  - type: "function", "data", or "other"
  - formals: for functions, the formal arguments


## parse_formals_text

### Parse Formals Text

#### Description

Parse Formals Text

#### Usage

```r
parse_formals_text(text)
```

#### Arguments

- **`text`**: Text containing function arguments.

#### Value

List with 'names' (argument names) and 'usage' (formatted for Rd).


## parse_object_definition

### Parse Object Definition

#### Description

Identifies the object being defined from code text (may be multi-line).

#### Usage

```r
parse_object_definition(text, file, line_num)
```

#### Arguments

- **`text`**: The code text (may span multiple lines).
- **`file`**: The source file (for error messages).
- **`line_num`**: The line number (for error messages).

#### Value

A list with name, type, and formals, or NULL if not a definition.


## parse_package

### Parse All R Files in a Package

#### Description

Parse All R Files in a Package

#### Usage

```r
parse_package(path = ".")
```

#### Arguments

- **`path`**: Path to package root.

#### Value

List of all documentation blocks from all R files.


## parse_tags

### Parse Tags from Documentation Lines

#### Description

Parse Tags from Documentation Lines

#### Usage

```r
parse_tags(lines, object_name, file = NULL, line_num = NULL)
```

#### Arguments

- **`lines`**: Character vector of documentation lines (without #').
- **`object_name`**: Name of the documented object.
- **`file`**: Source file (for error messages).
- **`line_num`**: Starting line number (for error messages).

#### Value

A list with parsed tag values.


## quote_names_in_text

### Quote Names in Text

#### Description

Wraps unquoted package/software names in single quotes.

#### Usage

```r
quote_names_in_text(text, names)
```

#### Arguments

- **`text`**: Text to modify
- **`names`**: Names to quote

#### Value

Modified text with names quoted


## resolve_inherit_params

### Resolve @inheritParams Tags

#### Description

Copies parameter documentation from source functions to the current function.
Only inherits params that are: (1) in the current function's formals, and
(2) not already documented in the current function.

#### Usage

```r
resolve_inherit_params(tags, all_tags, formals)
```

#### Arguments

- **`tags`**: Current function's parsed tags.
- **`all_tags`**: Named list of all parsed tags (name -> tags).
- **`formals`**: Current function's formals (list with names and usage).

#### Value

Updated tags with inherited params merged in.


## save_tag

### Save a Parsed Tag Value

#### Description

Save a Parsed Tag Value

#### Usage

```r
save_tag(result, tag, arg, accumulator, file, line_num)
```

#### Arguments

- **`result`**: Current result list to update.
- **`tag`**: Tag name (e.g., "param", "return").
- **`arg`**: First-line argument after the tag.
- **`accumulator`**: Continuation lines for the tag.
- **`file`**: Source file path (for error messages).
- **`line_num`**: Line number (for error messages).


## SUPPORTED_DOC_TAGS

### Supported Documentation Tags

#### Description

Supported Documentation Tags

#### Usage

```r
SUPPORTED_DOC_TAGS
```


## SUPPORTED_NS_TAGS

### Supported Namespace Tags

#### Description

Supported Namespace Tags

#### Usage

```r
SUPPORTED_NS_TAGS
```


## SUPPORTED_TAGS

### All Supported Tags

#### Description

All Supported Tags

#### Usage

```r
SUPPORTED_TAGS
```


## wrap_text

### Wrap Text to Width

#### Description

Wraps text to specified width, preserving words.

#### Usage

```r
wrap_text(text, width = 72)
```

#### Arguments

- **`text`**: Text to wrap.
- **`width`**: Maximum line width.

#### Value

Wrapped text with newlines.


## write_namespace

### Write NAMESPACE File

#### Description

Write NAMESPACE File

#### Usage

```r
write_namespace(content, path = ".", mode = "overwrite")
```

#### Arguments

- **`content`**: NAMESPACE content string.
- **`path`**: Package root path.
- **`mode`**: Either "overwrite" or "append".


## write_rd

### Write Rd File

#### Description

Write Rd File

#### Usage

```r
write_rd(content, name, path = ".")
```

#### Arguments

- **`content`**: Rd content string.
- **`name`**: Topic name.
- **`path`**: Package root path.


